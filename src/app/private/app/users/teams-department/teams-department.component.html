<vex-page-layout>
	<div class="flex flex-col md:flex-column md:gap-6 m-5">
		<div class="flex-1 card w-full">
			<div class="flex px-6 py-4 border-b">
				<mat-icon svgIcon="mat:group"></mat-icon>
				<h2 class="title m-0 mr-2">Teams</h2>
			</div>
			<!-- <div *ngIf="teams.length > 0" class="w-full"> -->
			<table
				@stagger
				[dataSource]="dataSourceTeams"
				class="w-full"
				mat-table
				matSort>



				<!-- Text Columns -->
				<ng-container *ngFor="let column of columnsTeam; trackBy: trackByProperty">
					<!-- Action Column -->
					<ng-container *ngIf="column.type === 'button'" [matColumnDef]="column.property">
						<th mat-header-cell *matHeaderCellDef class="...">
							{{ column.label }}
						</th>
						<td mat-cell *matCellDef="let row" class="..." [ngClass]="column.cssClasses">
							<button 
								style="border-radius: 2px" 
								mat-raised-button color="primary"
								(click)="openTeam(row['id'])"
								>Open
							</button>
						</td>
					</ng-container>
					<ng-container *ngIf="column.type === 'text'" [matColumnDef]="column.property">
						<th *matHeaderCellDef class="uppercase text-xs h-8 align-middle text-center px-2" mat-header-cell mat-sort-header>
							{{ column.label }}
						</th>
						<td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>
							{{ row[column.property] }}
						</td>
					  </ng-container>
				</ng-container>

				<tr *matHeaderRowDef="visibleColumnsTeam" mat-header-row></tr>
				<tr
					*matRowDef="let row; columns: visibleColumnsTeam"
					@fadeInUp
					class="hover:bg-hover transition duration-400 ease-out-swift"
				mat-row></tr>
			</table>

			<mat-paginator
				[pageSizeOptions]="pageSizeOptions"
				[pageSize]="pageSizeTeams"
				class="sticky left-0">
			</mat-paginator>
		<!-- </div> -->

			<div *ngIf="teams.length == 0" class="card p-5">
				<div
					@scaleFadeIn
					class="flex-auto flex flex-col items-center justify-center">
					<img class="m-12 h-64" src="assets/img/illustrations/idea.svg" />
					<h2 class="headline m-0 text-center">Empty Teams</h2>
				</div>
			</div>	
		</div>

		<div class="flex-1 card w-full mt-6 md:mt-0">
			<div class="flex px-6 py-4 border-b">
				<mat-icon svgIcon="mat:work"></mat-icon>
				<h2 class="title m-0 mr-2">Departments</h2>
			</div>
			<table
				@stagger
				[dataSource]="dataSourceDepartments"
				class="w-full"
				mat-table
				matSort>
				<!-- Text Columns -->
				<ng-container *ngFor="let column of columnsDepartment; trackBy: trackByProperty">
					<!-- Action Column -->
					<ng-container *ngIf="column.type === 'button'" [matColumnDef]="column.property">
						<th mat-header-cell *matHeaderCellDef class="...">
							{{ column.label }}
						</th>
						<td mat-cell *matCellDef="let row" class="..." [ngClass]="column.cssClasses">
							<button 
								style="border-radius: 2px" 
								mat-raised-button color="primary"
								(click)="openDepartment(row['id'])"
								>Open
							</button>
						</td>
					</ng-container>
					<ng-container *ngIf="column.type === 'text'" [matColumnDef]="column.property">
						<th *matHeaderCellDef class="uppercase text-xs h-8 align-middle text-center px-2" mat-header-cell mat-sort-header>
							{{ column.label }}
						</th>
						<td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>
							{{ row[column.property] }}
						</td>
					  </ng-container>
				</ng-container>

				<tr *matHeaderRowDef="visibleColumnsDepartment" mat-header-row></tr>
				<tr
					*matRowDef="let row; columns: visibleColumnsDepartment"
					@fadeInUp
					class="hover:bg-hover transition duration-400 ease-out-swift"
				mat-row></tr>
			</table>

			<mat-paginator
				[pageSizeOptions]="pageSizeOptions"
				[pageSize]="pageSizeDepartments"
				class="sticky left-0">
			</mat-paginator>

			<div *ngIf="departments.length == 0" class="card p-5">
				<div
					@scaleFadeIn
					class="flex-auto flex flex-col items-center justify-center">
					<img class="m-12 h-64" src="assets/img/illustrations/idea.svg" />
					<h2 class="headline m-0 text-center">Empty Departments</h2>
				</div>
			</div>	
		</div>
	</div>
<vex-page-layout>
